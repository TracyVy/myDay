{"ast":null,"code":"var _jsxFileName = \"/Users/tracyvy/Desktop/UCB_Coding_Bootcamp/project_3/calendar/client/src/contexts/auth.js\";\nimport React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\nimport { getUser, signIn as sendSignInRequest } from '../api/auth';\n\nfunction AuthProvider(props) {\n  const [user, setUser] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async function () {\n      const result = await getUser();\n\n      if (result.isOk) {\n        setUser(result.data);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n  const signIn = useCallback(async (email, password) => {\n    const result = await sendSignInRequest(email, password);\n\n    if (result.isOk) {\n      setUser(result.data);\n    }\n\n    return result;\n  }, []);\n  const signOut = useCallback(() => {\n    setUser();\n  }, []);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, Object.assign({\n    value: {\n      user,\n      signIn,\n      signOut,\n      loading\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }));\n}\n\nconst AuthContext = createContext({});\n\nconst useAuth = () => useContext(AuthContext);\n\nexport { AuthProvider, useAuth };","map":{"version":3,"sources":["/Users/tracyvy/Desktop/UCB_Coding_Bootcamp/project_3/calendar/client/src/contexts/auth.js"],"names":["React","useState","useEffect","createContext","useContext","useCallback","getUser","signIn","sendSignInRequest","AuthProvider","props","user","setUser","loading","setLoading","result","isOk","data","email","password","signOut","AuthContext","useAuth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,EAAoDC,UAApD,EAAgEC,WAAhE,QAAmF,OAAnF;AACA,SAASC,OAAT,EAAkBC,MAAM,IAAIC,iBAA5B,QAAqD,aAArD;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,EAAhC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,KAAC,kBAAkB;AACjB,YAAMa,MAAM,GAAG,MAAMT,OAAO,EAA5B;;AACA,UAAIS,MAAM,CAACC,IAAX,EAAiB;AACfJ,QAAAA,OAAO,CAACG,MAAM,CAACE,IAAR,CAAP;AACD;;AAEDH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAPD;AAQD,GATQ,EASN,EATM,CAAT;AAWA,QAAMP,MAAM,GAAGF,WAAW,CAAC,OAAOa,KAAP,EAAcC,QAAd,KAA2B;AACpD,UAAMJ,MAAM,GAAG,MAAMP,iBAAiB,CAACU,KAAD,EAAQC,QAAR,CAAtC;;AACA,QAAIJ,MAAM,CAACC,IAAX,EAAiB;AACfJ,MAAAA,OAAO,CAACG,MAAM,CAACE,IAAR,CAAP;AACD;;AAED,WAAOF,MAAP;AACD,GAPyB,EAOvB,EAPuB,CAA1B;AASA,QAAMK,OAAO,GAAGf,WAAW,CAAC,MAAM;AAChCO,IAAAA,OAAO;AACR,GAF0B,EAExB,EAFwB,CAA3B;AAKA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAED,MAAAA,IAAF;AAAQJ,MAAAA,MAAR;AAAgBa,MAAAA,OAAhB;AAAyBP,MAAAA;AAAzB;AAA7B,KAAqEH,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAGD;;AAED,MAAMW,WAAW,GAAGlB,aAAa,CAAC,EAAD,CAAjC;;AACA,MAAMmB,OAAO,GAAG,MAAMlB,UAAU,CAACiB,WAAD,CAAhC;;AAEA,SAASZ,YAAT,EAAuBa,OAAvB","sourcesContent":["import React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\nimport { getUser, signIn as sendSignInRequest } from '../api/auth';\n\nfunction AuthProvider(props) {\n  const [user, setUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async function () {\n      const result = await getUser();\n      if (result.isOk) {\n        setUser(result.data);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n\n  const signIn = useCallback(async (email, password) => {\n    const result = await sendSignInRequest(email, password);\n    if (result.isOk) {\n      setUser(result.data);\n    }\n\n    return result;\n  }, []);\n\n  const signOut = useCallback(() => {\n    setUser();\n  }, []);\n\n\n  return (\n    <AuthContext.Provider value={{ user, signIn, signOut, loading }} {...props} />\n  );\n}\n\nconst AuthContext = createContext({});\nconst useAuth = () => useContext(AuthContext);\n\nexport { AuthProvider, useAuth }\n"]},"metadata":{},"sourceType":"module"}